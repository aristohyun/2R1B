<!DOCTYPE html>

<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="{{ site.lang }}">
<!--<![endif]-->

<head>
    {% include common/meta.html %}
    <link href='{{ site.baseurl }}/assets/stylesheets/home.css' rel="stylesheet" type="text/css">
    {% include common/libraries.html %}
    {% if site.google_tag_manager %}
        {% include common/gtm-head.html %}
    {% endif %}
</head>

<body>
    {% if site.google_tag_manager %}
        {% include common/gtm-body.html %}
    {% endif %}

    <ul id="menu">
        <li data-menuanchor="character"><a href="#character">character</a></li>
        <li data-menuanchor="team"><a href="#team">team</a></li>
        <li data-menuanchor="ability"><a href="#ability">team</a></li>
    </ul>

    <div id="section0" class="section" data-name="character">
        {% include common/notices.html %}

        <a class="btn-continue animated bounce" href="#team"><img src="/assets/images/theme/btn-more.png" width="32px" height="32px"/></a>
    </div>

    <div id="section1" class="section" data-name="team">
        {% include common/notices.html %}
        <a class="btn-before animated hidden" href="#character"><img style="transform:rotate(180deg);" src="../assets/images/theme/btn-more.png" width="32px" height="32px"/></a>
        <a class="btn-continue animated hidden" href="#ability"><img src="/assets/images/theme/btn-more.png" width="32px" height="32px"/></a>
        
    </div>
    <div id="section2" class="section hidden" data-name="ability">
        {% include common/notices.html %}
        <a class="btn-before animated hidden" href="#team"><img style="transform:rotate(180deg);" src="/assets/images/theme/btn-more.png" width="32px" height="32px"/></a>
        <div id="abil" class="hidden">
            라운드당 한번 카드 강제 교환 <br><br>
            플레이어에게 `요원입니다`<br>
            하면서 카드 보여주면,<br>
            상대방은 반드시 응해야함
        </div>

    </div>
    
    {% include card/scripts.html %}
    <script>
        function incodeName(str){
            let result="";
            for( i in str){
                let temp = str.charCodeAt(i) - 15 - i;
                result += String.fromCharCode(temp);
            }    
            //짝수면 -10-인덱스
            //홀수면 +10+인덱스
            //26개 a=97 A=65
            return result;
        }
        function decodeName(str){
            let result="";
            for(i in str){
                let temp = str.charCodeAt(i) + 15 + parseInt(i);
                result += String.fromCharCode(temp);
            }
            return result;
        }
        function getColor(str){
            if(str[0]=="B") return "Blue";
            else if(str[0]=="R") return "Red";
            return "Gray";
        }
        const ability = {
            "BlueAgent":"",
            "BlueAmbassar":"",
            "BlueAngel":"",
            "BlueBlind":"",
            "BlueBouncer":"",
            "BlueClown":"",
            "BlueCyboy":"",
            "BlueDemon":"",
            "BlueKnight":"",
            "BlueMime":"",
            "BluePresident":"",
            "BlueSecurity":"",
            "BlueShy":"",
            "BlueSpy":"",

            "RedAgent":"",
            "RedAmbassar":"",
            "RedAngel":"",
            "RedBlind":"",
            "RedBouncer":"",
            "RedClown":"",
            "RedCyboy":"",
            "RedDemon":"",
            "RedKnight":"",
            "RedMime":"",
            "RedPresident":"",
            "RedSecurity":"",
            "RedShy":"",
            "RedSpy":"",

            "GrayAHAB":"",
            "GrayBombBot":"",
            "GrayBulter":"",
            "GrayGamblr":"",
            "GrayIntern":"",
            "GrayJuliet":"",
            "GrayMaid":"",
            "GrayMI6":"",
            "GrayMistrees":"",
            "GrayMoby":"",
            "GrayQueen":"",
            "GrayRival":"",
            "GrayRomeo":"",
            "GraySurvivor":"",
            "GrayVictim":"",
            "GrayWife":""
        }
        const name = decodeName(getParam("id"));
        
        if(getParam("id")){
            $('#section0').css({"background-image": "url(../assets/card/"+name+".png)"});
            $('#section1').css({"background-image": "url(../assets/card/"+getColor(name)+".png)"});
            $('#section2').removeClass('hidden');
            $('#abil').removeClass('hidden');
        }
        else{
            $('#section0').css({"background-image": "url(../assets/card/back.png)"});
            $('#section1').css({"background-image": "url(../assets/card/back.png)"});
        }
       
    </script>
</body>

</html>